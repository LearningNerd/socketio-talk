<!-- - - - - - - - - - - - - - - - - - CHALLENGE 3  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<section>
	<h2 style="margin-bottom:40px;">Simulating multiple clients locally</h2>
	<p>Now you'll need to open two instances of your app to test it!</p>
	<img src="images/two-clients.png" class="">
	<p>You can use two browser tabs or make two separate windows side-by-side.</p>
</section>

<!-- <section>
	<h2 style="font-size:1.3em;margin-bottom:50px;">Challenge 3: Reply to users with new SocketIO functions</h2>
	<p>Change your <strong><em>server-side</em></strong> code so that when the server receives<br> the event named <strong>"test"</strong>,
		 it does two more things:
	</p>
	<p style="text-align:left;width:90%;margin:20px auto;"><strong>1.</strong> It replies to the client who clicked their screen with an event called <strong>"test"</strong> containing the message <strong>"I saw you click!"</strong>
	</p>
	<p style="text-align:left;width:90%;margin:10px auto;margin-bottom:50px;"><strong>2.</strong> It also replies to <em>every client except the one who clicked</em> with an event called <strong>"test"</strong> containing the message <strong>"Off with their head!"</strong>
	</p>
	<p class="highlighted-blue"><strong>Hint:</strong> to test this code, you need to open up <em>multiple</em> browser windows/tabs,<br> with <em>multiple</em> browser consoles open!</p>
</section>

<section>
	<h2 class="subhead">Time's up!</h2>
	<h2 class="big">Solution to Challenge 3</h2>
</section> -->



<section>
	<h2>local.js (client)</h2>

		<pre style="padding-left:10px;">
<span class="fragment highlight-current-red" data-fragment-index="0">var socket = io();</span>

<span class="fragment highlight-current-red" data-fragment-index="1">document.addEventListener('click', function(event) {
	console.log(event);
	<span class="fragment highlight-current-red" data-fragment-index="2">socket.emit('test', event);</span>
});</span>

<span class="fragment highlight-current-red" data-fragment-index="3">socket.on('test', function(data) {
	console.log(data);
});</span>
		</pre>
</section>

<section>
	<h2>app.js (server)</h2>
	<!-- <h3 class="subhead highlighted-red">Solution to challenge 3</h3> -->

		<pre style="padding-left:5px;font-size:0.83em;width:100%;margin:0;">
// Server boilerplate goes up here, setting up SocketIO, Express, etc

<span class="fragment highlight-current-red" data-fragment-index="0">io.on('connection', function(socket) {</span>

	<span class="fragment highlight-current-red" data-fragment-index="1">io.sockets.emit('test', 'Hello from the server!');</span>

	<span class="fragment highlight-current-red" data-fragment-index="2">socket.on('test', function(data) {
		console.log(data);
		<span class="fragment highlight-current-red" data-fragment-index="3"><span class="fragment highlight-current-red" data-fragment-index="4">socket.emit</span>('test', <span class="fragment highlight-current-red" data-fragment-index="4">'I saw you click!'</span>);
		<span class="fragment highlight-current-red" data-fragment-index="5">socket.broadcast.emit</span>('test', <span class="fragment highlight-current-red" data-fragment-index="5">'Off with their head!'</span>);</span>
	});</span>
});
		</pre>
</section>


<section>
	<h2 class="subhead">Congratulations, coding ninja!</h2>
	<h2 class="big">Now you know 90% of SocketIO!</h2>
</section>

<!-- - - - - - - - - - - - - - - - - END of  CHALLENGE 3 - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - -->
